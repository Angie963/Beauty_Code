<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beauty Code - Citas</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="index-body">

    <header>
    <nav id="menu">
        <div>
            <img src="img/logo con delineado.png" alt="Logo Beauty Code", class="logo">
        </div>
        
        <div>
            <a href="index.html">
                <img src="img/iconos/chimenea-de-la-casa.png" style="width:20px;padding-right:7px">Inicio</a>
            <a href="services.html">
                <img src="img/iconos/bolsas-de-compras.png" style="width:22px;padding-right:7px">Servicios</a>
            <a href="gallery.html">
                <img src="img/iconos/copiar-imagen.png" style="width:23px;padding-right:7px">Galería</a>
            <a href="reviews.html">
                <img src="img/iconos/revision-de-comentarios.png" style="width:23px;padding-right:7px">Reseñas</a>
            <a href="appointments.html">
                <img src="img/iconos/dia-del-calendario.png" style="width:20px;padding-right:7px">Citas</a>
            <a href="perfil.html">
                <img src="img/iconos/lapiz-de-usuario.png" style="width:21px;padding-right:7px">Perfil</a>
            <a href="login.html">Iniciar Sesión</a>
        </div>
    </nav>
    </header>

<!-- CONTENEDOR PRINCIPAL -->
<div class="reviews-container" style="width:80%;margin:40px auto;">

    <h1 style="color: #6B0C17;font-size:32px;margin-bottom:10px;padding-top:80px;">
        Reseñas de Clientes
    </h1>

    <p style="color:#444;margin-bottom:25px;">
        Opiniones de nuestros clientes sobre los servicios realizados.
    </p>

    <!-- Botón para abrir formulario -->
    <div style="margin-bottom:30px;">
        <button id="btnAbrirResena" class="btn-primary btn-error">
            Escribir Reseña
        </button>
    </div>

    <!-- Contenedor donde JS insertará reseñas -->
    <div id="reviewsList"></div>
</div>

<!-- MODAL PARA CREAR RESEÑA -->
<div id="modalResena" class="modal" style="
    display:none; 
    position:fixed; 
    top:0; left:0; 
    width:100%; height:100%; 
    background:rgba(0,0,0,0.5);
    justify-content:center; 
    align-items:center;
">
    <div style="
        background:#fff; 
        padding:25px; 
        border-radius:15px; 
        width:350px;
    ">
    
        <h3 style="margin-bottom:15px;">Nueva Reseña</h3>

        <form class="login-form" action="#">
        <label>Tu nombre</label>
        <input id="inputNombre" class="form-control" type="text">

        <label class="mt-3">Servicio</label>
        <input id="inputServicio" class="form-control" type="text">

        <label class="mt-3">Calificación</label>
        <select id="inputRating" class="form-control">
            <option value="5">★★★★★</option>
            <option value="4">★★★★☆</option>
            <option value="3">★★★☆☆</option>
            <option value="2">★★☆☆☆</option>
            <option value="1">★☆☆☆☆</option>
        </select>

        <label class="mt-3">Comentario</label>
        <textarea id="inputComentario" class="form-control"></textarea>
        </form>

        <div style="margin-top:15px; display:flex; justify-content:space-between;">
            <button id="btnCancelar" class="btn-inicio btn-error w-100" style="margin: 10px;">Cancelar</button>
            <button id="btnGuardarResena" class="btn-primary w-100" style="margin: 10px;">Guardar</button>
        </div>
    </div>
</div>

<footer id="footer">
    © 2025 Beauty Code – Agenda de Manicura
    <br> Desarrollado por Iron Code
</footer>

<script src="js/reviews.js">
    // Datos desde login.js
    const usuario = localStorage.getItem("usuario");
    const nombreUsuario = localStorage.getItem("nombreUsuario");

    const perfil = document.getElementById("perfilBtn");
    const login = document.getElementById("loginBtn");
    const logout = document.getElementById("logoutBtn");
    const bienvenidaTexto = document.getElementById("bienvenidaTexto");
    const saludoPrincipal = document.getElementById("saludoPrincipal");

    // Si hay sesión iniciada
    if (usuario && nombreUsuario) {
        perfil.style.display = "inline-block";
        bienvenidaTexto.textContent = "Perfil"; // SOLO mostrar "Perfil" en el menú
        login.style.display = "none";
        logout.style.display = "inline-block";

        // Cambiar saludo inferior
        saludoPrincipal.textContent = "Bienvenido, " + nombreUsuario;
    } 
    else {
        perfil.style.display = "none";
        login.style.display = "inline-block";
        logout.style.display = "none";

        saludoPrincipal.textContent = "Bienvenida a Beauty Code";
    }

    // Cerrar sesión
    logout.addEventListener("click", function () {
        localStorage.removeItem("usuario");
        localStorage.removeItem("nombreUsuario");
        window.location.reload();
    });
</script>

</body>
</html>
